!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){const n=document.querySelector("#canvas"),i=n.getContext("2d");function o(e="aqua",t,n,o=40,c=40,s=!0){i.save(),s&&(i.shadowOffsetX=10,i.shadowOffsetY=10,i.shadowColor="#ccc"),i.fillStyle=e,i.fillRect(t,n,o,c),i.restore()}function c(e,t,n,o="20px",c="#fff",s=!0){i.save(),s&&(i.shadowOffsetX=2,i.shadowOffsetY=2,i.shadowColor="#000"),i.fillStyle=c,i.font=o+" å¾®è½¯é›…é»‘",i.fillText(e,t,n),i.restore()}function s(e,t,n,o){i.clearRect(e,t,n,o)}console.log(i);let r=["ğŸ‘¼","ğŸ§”","ğŸ¤´","ğŸ‘¶","ğŸ‘¦","ğŸ§’","ğŸ‘©","ğŸ‘¨","ğŸ¤¶","ğŸ…"],a=[1e4,15e3,2e4,25e3],f=["å¼€å§‹æ¸¸æˆ","åˆå§‹èµ„é‡‘","é€‰æ‹©è§’è‰²"],l=["1ï¸âƒ£","2ï¸âƒ£","3ï¸âƒ£","4ï¸âƒ£","5ï¸âƒ£","6ï¸âƒ£"],h=[];function u(e,t,n,i,r,a,f,l){this.name=e,this.index=t,this.money=n,this.state=i,this.stop=r,this.control=a,this.x=f,this.y=l,h.push(this),u.prototype.getDis=function(e){let t,n;100===this.y?50*e+this.x>=650?(t=650,n=50*(e-(650-this.x)/50)+this.y):(t=50*e+this.x,n=100):650===this.x?50*e+this.y>=600?(t=650-50*(e-(600-this.y)/50),n=600):(t=650,n=50*e+this.y):600===this.y?this.x-50*e<=100?(t=100,n=600-50*(e-(this.x-100)/50)):(n=600,t=this.x-50*e):100===this.x&&(this.y-50*e<=100?(t=this.x+50*(e-(this.y-100)/50),n=100):(t=100,n=this.y-50*e)),this.tarX=t,this.tarY=n},u.prototype.move=function(){let e=x.find(e=>e.x===this.x&&e.y===this.y);const{x:t,y:n,color:i,name:r,sojourner:a}=e;s(this.x,this.y,40,40),o(i,this.x,this.y),a?c(a,t,n,"30px","#000",!1):c(r,t+10,n+25,"20px","#000",!1),100===this.y?this.x>=650?(this.x=650,this.y+=50):(this.x+=50,this.y=100):650===this.x?this.y>=600?(this.y=600,this.x-=50):(this.x=650,this.y+=50):600===this.y?this.x<=100?(this.x=100,this.y-=50):(this.y=600,this.x-=50):100===this.x&&(this.y<=100?(this.y=100,this.x+=50):(this.x=100,this.y-=50)),c(this.name,this.x,this.y+30,"30px","#000",!1)},u.prototype.purchase=function(){const e=x.find(e=>e.x===this.x&&e.y===this.y),{price:t,owner:n,state:i}=e;e.owner=this.name,this.money-=t},u.prototype.upgrade=function(){const e=x.find(e=>e.x===this.x&&e.y===this.y),{price:t,owner:n,state:i,cost:o}=e;this.money-=t,e.cost+=t/5}}let x=[],p=[];function w(e,t){this.name=e,this.money=t,this.cost=t/5,p.push(this)}function y(e,t,n,i,o="aqua",c=0,s=0){this.name=e,this.price=t,this.state=n,this.owner=i,this.color=o,this.cost=0,this.x=c,this.y=s,this.sojourner="",x.push(this)}new w("äº¬",990),new w("æ´¥",800),new w("å†€",130),new w("æ™‹",100),new w("å†…",300),new w("è¾½",400),new w("å‰",120),new w("é»‘",310),new w("æ²ª",380),new w("è‹",160),new w("æµ™",320),new w("çš–",240),new w("é—½",180),new w("è±«",150),new w("é„‚",280),new w("æ¹˜",200),new w("ç²¤",220),new w("æ¡‚",240),new w("ç¼",450),new w("èœ€",300),new w("é»”",330),new w("äº‘",360),new w("æ¸",170),new w("è—",110),new w("é™•",340),new w("ç”˜",260),new w("é’",180),new w("å®",180),new w("æ–°",190),new w("æ¸¯",580),new w("æ¾³",580),new w("å°",580);let m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,2,1,1,1,1,2,1,3,0,2,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,2,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,2,0,1,0,0,0,0,0,0,0,0,0,0,1,0,3,1,1,1,2,1,1,1,1,2,1,4,0,0,0,0,0,0,0,0,0,0,0,0,0],d=[];function v(e,t,n){this.text=e,this.value=t,this.stop=n,d.push(this)}function E(){if(_){let e=Math.floor(6*Math.random());P=e,l.forEach((t,n)=>{n===e&&c(t,800,300,"30px","aqua")})}}function k(){let e=setInterval(E,50),t=setTimeout((function(){if(clearInterval(e),_){let e=setInterval((function(){h[$].move()}),500);n.removeEventListener("click",L);let t=setTimeout((function(){clearInterval(e),function(){const{x:e,y:t}=h[$],n=x.find(n=>n.x===e&&n.y===t),{owner:i,state:o,name:r,price:a,cost:f}=n;if(1===o)if(""===i){let e;e=!h[$].control||confirm(`æ˜¯å¦è´­ä¹°ä»·å€¼ ï¿¥${a} çš„ ${r} `),e?(h[$].purchase(),function(){const{name:e,x:t,y:n}=h[$];100===n?c(e,t+5,n-10,"20px","#fff",!1):650===t?c(e,t+50,n+30,"20px","#fff",!1):600===n?c(e,t+5,n+70,"20px","#fff",!1):100===t&&c(e,t-35,n+25,"20px","#fff",!1)}(),q(),T("è´­ä¹°æˆåŠŸ","green")):T("è´­ä¹°å¤±è´¥")}else if(i!=h[$].name){h[$].money-=f,h.find(e=>e.name===i).money+=f,q(),T("æ”¯ä»˜è¿‡è·¯è´¹ï¿¥"+f)}else i===h[$].name&&(h[$].control?ispurchase=confirm("æ˜¯å¦å‡çº§å½“å‰åœŸåœ° "):ispurchase=!0,ispurchase?(h[$].upgrade(),function(){let e=x.find(e=>e.x===h[$].x&&e.y===h[$].y);const{x:t,y:n,cost:i,price:o}=e;let r=i/(o/5);100===n?(s(t+25,n-40,10,10),c(r,t+25,n-30,"10px","red",!1)):650===t?(s(t+70,n,10,10),c(r,t+70,n+10,"10px","red",!1)):600===n?(s(t+35,n+50,10,10),c(r,t+35,n+60,"10px","red",!1)):100===t&&(s(t-15,n-5,10,10),c(r,t-15,n+5,"10px","red",!1))}(),q(),T("å‡çº§æˆåŠŸ","green")):T("å‡çº§å¤±è´¥"));else if(2===o){const e=(l=0,u=d.length,Math.floor(Math.random()*(u-l))+l),{text:t,value:n,stop:i}=d[e];h[$].money+=n,h[$].stop=i,q(),T(t)}else 3===o?(h[$].stop=1,T("æ„Ÿè§‰èº«ä½“ç–²æƒ«ï¼Œéœ€è¦ä¼‘æ¯1å¤©")):4===o&&(h[$].money+=1e3,q(),T("æ­å–œè·å¾—ï¿¥1000"));var l,u;h[$].money<0&&("ğŸ·"!=h[$].name?(_=0,$=0,alert(`${h[$].name}ç ´äº§äº†ï¼Œæ¸¸æˆç»“æŸ,å¾ˆé—æ†¾ä½ æ²¡æœ‰è·èƒœ`)):(_=0,$=0,alert("ğŸ·ç ´äº§äº†ï¼Œæ¸¸æˆç»“æŸ,æ­å–œä½ è·èƒœ")))}(),function(){$=0===$?1:0,function(){let{name:e,stop:t}=h[$];if(t)return T(`éœ€è¦ä¼‘æ¯${t}å¤©`),h[$].stop-=1,!0}()&&($=0===$?1:0);0===$?(n.addEventListener("click",L),h[$].control||k()):(n.removeEventListener("click",L),k())}(),s(800,320,200,40),c("å½“å‰è¡ŒåŠ¨è€…:"+h[$].name,800,340,"20px","#999",!1),clearTimeout(t)}),510*(P+1))}clearTimeout(t)}),2e3)}function L(e){const t=e.clientX,n=e.clientY;t>800&&t<840&&n>270&&n<300&&k()}function b(e){const t=e.clientX,i=e.clientY;t>800&&t<880&&i>380&&i<410&&(h[0].control=!1,s(800,380,80,30),c("å–æ¶ˆæ‰˜ç®¡",800,400,"20px","#999",!1),T("å¼€å¯æ‰˜ç®¡","green"),n.addEventListener("click",g),n.removeEventListener("click",b))}function g(e){const t=e.clientX,i=e.clientY;t>800&&t<880&&i>380&&i<410&&(h[0].control=!0,s(800,380,80,30),c("å¼€å¯æ‰˜ç®¡",800,400,"20px","#999",!1),T("å–æ¶ˆæ‰˜ç®¡"),n.addEventListener("click",b),n.removeEventListener("click",g))}function X(e){const t=e.clientX,i=e.clientY;n.style.cursor=t>800&&t<880&&i>100&&i<120||t>800&&t<880&&i>140&&i<160||t>800&&t<880&&i>180&&i<200||t>800&&t<840&&i>270&&i<300||t>800&&t<880&&i>380&&i<410?"pointer":"default"}function Y(e){const t=e.clientX,n=e.clientY;x.forEach((e,i)=>{const{name:o,price:r,owner:a,cost:f,x:l,y:h}=e;t>l&&t<l+40&&n>h&&n<h+40&&(s(350,330,200,200),c("åœ°å: "+o,350,350,"20px","#999",!1),c("ä»·å€¼: ï¿¥"+r,350,390,"20px","#999",!1),c("åœ°ä¸»: "+a,350,430,"20px","#999",!1),c("è¿‡è·¯è´¹: ï¿¥"+f,350,470,"20px","#999",!1))})}function O(e){const t=e.clientX,i=e.clientY;t>800&&t<880&&i>100&&i<120?(s(0,0,800,800),_=1,q(),n.removeEventListener("click",O),R(h[0].money),D(h[0].name),x.forEach((e,t)=>{const{name:n,x:i,y:s,color:r}=e;switch(e.state){case 1:o(r,i,s),c(n,i+10,s+25,"20px","#000",!1);break;case 2:o(r,i,s),c(n,i+10,s+25);break;case 3:o(r,i,s),c(n,i+5,s+25);break;case 4:o(r,i,s),c(n,i+10,s+25)}}),h.forEach(e=>{const{name:t,x:n,y:i}=e;s(n,i,50,50),o("#409eff",n,i),c(t,n,i+30,"30px")}),function(){function e(){c("ğŸ”»ç‚¹å‡»å¼€å§‹å‡ºå‘",800,260,"20px","#"+(~~(Math.random()*(1<<24))).toString(16),!1)}e(),I=setInterval(e,2e3),c("6ï¸âƒ£",800,300,"30px","aqua"),n.addEventListener("click",L)}(),s(800,100,80,22),c("é‡æ–°å¼€å§‹",800,120,"20px","#999",!1),n.addEventListener("click",j),c("æ¸¸æˆå¼€å§‹äº†",350,200,"20px","aqua"),c("å½“å‰è¡ŒåŠ¨è€…:"+h[$].name,800,340,"20px","#999",!1),c("å¼€å¯æ‰˜ç®¡",800,400,"20px","#999",!1),n.addEventListener("click",b),n.addEventListener("click",Y)):t>800&&t<880&&i>140&&i<160?(a.forEach((e,t)=>{c(e,700,160+40*t,"20px","red",!1)}),n.addEventListener("click",M)):t>800&&t<880&&i>180&&i<200&&(r.forEach((e,t)=>{c(e,760,100+40*t,"30px","red",!1)}),n.addEventListener("click",S))}function j(e){const t=e.clientX,i=e.clientY;if(t>800&&t<880&&i>100&&i<120){if(!confirm("æ˜¯å¦é‡æ–°å¼€å§‹"))return;C(),n.removeEventListener("click",j),n.removeEventListener("click",Y)}}function M(e){const t=e.clientX,i=e.clientY;a.forEach((e,o)=>{const c=145+40*o;var r;t>700&&t<760&&i>c&&i<c+20&&(r=e,h.forEach(e=>{e.money=r}),s(700,145,60,140),R(r),n.removeEventListener("click",M))})}function S(e){const t=e.clientX,i=e.clientY;r.forEach((e,o)=>{const c=60+40*o;var r;t>760&&t<800&&i>c&&i<c+40&&(r=e,h[0].name=r,s(760,70,40,400),D(r),n.removeEventListener("click",S))})}function T(e="æç¤ºä¿¡æ¯",t="red"){s(150,0,1200,40),c(h[$].name+e,150,30,"30px",t,!1);let n=setTimeout((function(){s(150,0,1200,40),clearTimeout(n)}),2e3)}function q(){h.forEach((e,t)=>{s(200+300*t,250,100,100),c(e.name,200+300*t,250,"20px","#999"),c("ï¿¥"+e.money,200+300*t,280,"20px","#999",!1)})}new v("æ‰¶è€å¥¶å¥¶è¿‡é©¬è·¯çš„äº‹è¿¹è¢«å¤§å®¶çŸ¥é“äº†ï¼Œæ‘å§”ä¼šé¢å‘ï¿¥1000å¥–é‡‘",1e3,0),new v("ä¸­äº†å½©ç¥¨ï¼Œè·å¾—å¤´å¥–ï¿¥5000",5e3,0),new v("åœ¨è¡—è¾¹è¢«åŠ«åŒªæŠ¢åŠ«ï¼Œä¸ºäº†ä¿ä½æ€§å‘½ï¼Œå¤±å»ï¿¥3000",-3e3,0),new v("å–äº†ä¸€æ¯ä¸€ç‚¹ç‚¹ï¼ŒèŠ±è´¹ï¿¥30",-30,0),new v("è·¯è¾¹æ¡åˆ°ï¿¥500",500,0),new v("åƒé±¼å¡åˆ°é±¼åˆºï¼Œå»åŒ»é™¢èŠ±äº†ï¿¥800",-800,0),new v("é’±åŒ…è½åœ¨å‡ºç§Ÿè½¦é‡Œï¼Œä¸¢å¤±ï¿¥1000",-1e3,0),new v("ç©ºé—²æ—¶é—´å»å…¼èŒå®¶æ•™ï¼Œæ”¶è·ï¿¥2000",2e3,0),new v("æ‰¶è€å¥¶å¥¶è¿‡é©¬è·¯æ‘”äº†ä¸€è·¤ï¼Œä¹°è¯èŠ±äº†ï¿¥100",-100,0),new v("æ‰‹æœºçªç„¶åäº†ï¼Œæ¢äº†éƒ¨æœ€æ–°æ¬¾iPhoneï¼ŒèŠ±è´¹ï¿¥1300",-1300,0),new v("åƒç¾Šè‚‰ç«é”…ï¼ŒèŠ±è´¹ï¿¥500",-500,0),new v("å»æ—¥æœ¬çœ‹æ¨±èŠ±ï¼ŒèŠ±è´¹ï¿¥2000",-2e3,0),new v("ä»€ä¹ˆä¹Ÿæ²¡æœ‰å‘ç”Ÿï¼Œé™¤äº†é’±åŒ…å°‘äº†ï¿¥800",-800,0),new v("ä»€ä¹ˆä¹Ÿæ²¡æœ‰å‘ç”Ÿ, é™¤äº†é’±åŒ…å¤šäº†ï¿¥1000",1e3,0),new v("åœ¨å¹¿äº¤ä¼šåšç¿»è¯‘ï¼Œè·å¾—ï¿¥1000",1e3,0),new v("åœ¨æ ¡é—¨å£å‘ä¼ å•ï¼Œå¾—åˆ°ï¿¥100",100,0),new v("è·å¾—ä¸‰å¥½å­¦ç”Ÿå¥–å­¦é‡‘ï¼Œå¥–é‡‘ï¿¥3000",3e3,0),new v("æŠ¢äº†ä¸ªå¾®ä¿¡çº¢åŒ…ï¼Œè·å¾—ï¿¥1",1,0),new v("æ¢¦è§å¾—åˆ°ï¿¥3000å¥–é‡‘ï¼Œé†’æ¥å†³å®šèŠ±ï¿¥50å»æ‹œç¥",-50,0),new v("è·å¾—äº†ï¿¥3000å¥–é‡‘ï¼èµ¶ç´§èŠ±ï¿¥500å»è¿˜æ„¿",2500,0),new v("å–é—²ç½®èµšäº†ï¿¥100",100,0),new v("ä»€ä¹ˆä¹Ÿæ²¡æœ‰å‘ç”Ÿ",0,0),new v("çœ‹ç”µå½±èŠ±è´¹äº†ï¿¥100",-100,0),new v("è¿˜èŠ±å‘—æ¬ æ¬¾ï¿¥999",-999,0),new v("ä¸€å¹´ä¸€åº¦çš„åŒåä¸€åˆ°äº†ï¼Œå‰æ‰‹èŠ±äº†ï¿¥2000",-2e3,0),new v("çªç„¶å¾ˆæ¸´æƒ³ä¹°ç“¶çŸ¿æ³‰æ°´ï¼ŒèŠ±è´¹ï¿¥5",-5,0),new v("å»å·¥åœ°æ¬ç –èµšäº†ï¿¥500",500,0),new v("å·ç¨æ¼ç¨ç½šæ¬¾ï¿¥1000ï¼Œä¼‘æ¯1æ—¥",-1e3,1),new v("è¶…é€Ÿè¡Œé©¶è¢«ç½šæ¬¾ï¿¥2000ï¼Œä¼‘æ¯2å¤©",-2e3,2),new v("è¢«æŸ¥æ°´è¡¨å‘ç°æœ‰è¿å»ºï¼Œç½šæ¬¾ï¿¥1000å¹¶ä¼‘æ¯3æ—¥",-1e3,3),new v("è€ƒè¯•ä½œå¼Šè¢«ä¼‘æ¯5æ—¥",0,5);let I=0,P=0,_=0,$=0;function C(){_=0,$=0,h=[],new u("ğŸ‘¦",0,1e4,1,0,!0,100,100),new u("ğŸ·",1,1e4,1,0,!1,650,600),function(){x=[],m.forEach((e,t)=>{if(e>0){const{x:n,y:i}=function(e){return{x:e%13*50+50,y:50*parseInt(e/13)+50}}(t);switch(e){case 1:new y("name",9e3,1,"","aqua",n,i);break;case 2:new y("â“",1e3,2,"å‘½è¿","#f56c6c",n,i);break;case 3:new y("ğŸ’¤",4200,3,"é…’åº—","#999",n,i);break;case 4:new y("ğŸš©",2e3,4,"èµ·ç‚¹","#409eff",n,i)}}});let e=0;x.forEach((t,n)=>{1===t.state&&(t.name=p[e].name,t.price=p[e].money,t.cost=p[e].cost,e++)})}(),s(800,270,100,50),n.removeEventListener("click",L),s(800,380,80,30),n.removeEventListener("click",g),n.removeEventListener("click",b),clearInterval(0),clearInterval(I),s(0,0,n.width,n.height),c("æ¬¢è¿æ¥åˆ°lhxè‡ªåˆ¶çš„å¤§å¯Œç¿å°æ¸¸æˆ",250,100,"20px","#999",!1),c("ç©æ³•è¯´æ˜",250,240,"20px","#999",!1),c("â—¾ ç‚¹å‡»è‰²å­è¿›è¡Œæ¸¸æˆï¼Œç”µè„‘ç©å®¶ä¼šè‡ªåŠ¨æ·è‰²å­",250,280,"20px","#999",!1),c("â—¾ æ¸¸æˆç›®æ ‡ï¼šç›´åˆ°ä¸€æ–¹ç©å®¶ç ´äº§",250,320,"20px","#999",!1),c("â—¾ æ¯ä¸ªæ£‹æ ¼éƒ½ä¼šè§¦å‘å¯¹åº”äº‹ä»¶",250,360,"20px","#999",!1),c("â—¾ æ¸¸æˆè¿˜æ”¯æŒæ‰˜ç®¡ï¼Œè®©ä½ è§£æ”¾åŒæ‰‹",250,400,"20px","#999",!1),c("â—¾ ç‚¹å‡»æ£‹æ ¼å¯æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯",250,440,"20px","#999",!1),f.forEach((e,t)=>{c(e,800,120+40*t,"20px","aqua",!1)}),n.addEventListener("click",O),n.addEventListener("mousemove",X)}function R(e=1e4){s(800,140,160,25),c("åˆå§‹èµ„é‡‘: "+e,800,160,"20px","#999",!1)}function D(e="ğŸ‘¦"){s(800,180,160,25),c("é€‰æ‹©è§’è‰²: "+e,800,200,"20px","#999",!1)}C()}]);